<odoo>
  <data>
   
    <record id="inherit_purchase_request" model="ir.ui.view">
      <field name="name">purchase.request.view.form.inherit</field>
      <field name="model">purchase.request</field>
      <field name="inherit_id" ref="purchase_request.view_purchase_request_form"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='name']" position="attributes">
          <attribute name="readonly">1</attribute>
        </xpath>
        <xpath expr="//notebook/page/field[@name='line_ids']/tree/field[@name='product_id']" position="after">
          <field name="image" widget="image" class="oe_avatar"/>
        </xpath>
        <xpath expr="//notebook/page/field[@name='line_ids']/tree/field[@name='date_required']" position="after">
          <field name="department"/>
          <field name="sub_department" />
        </xpath>
        <xpath expr="//notebook/page/field[@name='line_ids']/tree/field[@name='estimated_cost']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//notebook/page/field[@name='line_ids']/tree/field[@name='company_id']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//notebook/page/field[@name='line_ids']/tree/field[@name='purchased_qty']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//notebook/page/field[@name='line_ids']/tree/field[@name='purchase_state']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//group/field[@name='origin']" position="before">
          <field name="test" invisible="1"/>
          <field name="request_detail_id" attrs="{'readonly': [('state', 'not in', ('draft'))]}"/>
        </xpath>
        <xpath expr="//field[@name='origin']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//field[@name='description']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//field[@name='group_id']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//notebook/page/group" position="after">
          <group string="Fit Notes">
            <field name="notes" nolabel="1" placeholder="Comments ....." attrs="{'invisible': [('state', 'in', ('done'))]}"/>
          </group>
        </xpath>
        <xpath expr="//button[@name='button_rejected']" position="attributes">
          <attribute name="invisible">1</attribute> 
        </xpath>

        <xpath expr="//header" position="inside">
          <button 
            name="button_to_pattern" 
            states="approved"
            type="object" 
            string="Pattern Alteration"
            class="oe_highlight"
            attrs="{'invisible': [('state', 'not in', ('approved'))]}"
          />
        </xpath>
        <xpath expr="//button[@name='button_approved']" position="after">
          <button name="create_pattern_alteration" type="object" string="Create Pattern Alteration" class="oe_highlight" attrs="{'invisible': [('state', 'not in', ('rejected'))]}"/>
        </xpath>
        <xpath expr="//div[@class='oe_button_box']" position="inside">
          <button type="object" name="view_pattern_alteration" class="oe_stat_button" icon="fa-align-justify" attrs="{'invisible': [('pattern_count', '=', 0)]}">
            <field name='pattern_count' widget="statinfo" string='Pattern Alteration'/>
          </button>
        </xpath>
        <xpath expr="//notebook//page[1]" position="after">
          <page string="Custom Pattern" attrs="{'invisible': [('test', '=', False)]}">
            <field name="purchase_custom_ids">
              <tree editable="bottom">
                <field name="print_color_id" />
                <field name="pattern_marker" />
                <field name="model_ptr"/>
                <field name="alt_cmnt" />
              </tree>
              <form>
                <group>
                  <field name="print_color_id" />
                  <field name="pattern_marker" />
                  <field name="alt_cmnt" />
                  <field name="model_ptr"/>
                  <field name="alt_cmnt" />
                </group>
              </form>
            </field>
          </page>
        </xpath>
        <xpath expr="//button[@name='button_draft']" position="attributes">
            <attribute name="groups">sol_purchase.group_cancel_set_draft</attribute>
        </xpath>
      </field>
    </record>


  


  </data>
</odoo>